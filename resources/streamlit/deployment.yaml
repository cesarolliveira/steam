apiVersion: apps/v1
kind: Deployment
metadata:
  name: streamlit  # Nome do Deployment para fácil identificação no cluster
spec:
  replicas: 1  # Define a quantidade de réplicas do serviço, aqui é apenas 1
  selector:
    matchLabels:
      app: streamlit  # Define o seletor para encontrar Pods com essa label
  template:
    metadata:
      labels:
        app: streamlit  # Define a label do Pod para o seletor encontrar
    spec:
      containers:
      - name: streamlit  # Nome do contêiner
        image: manoelpg/streamlit:v1.0  # Imagem Docker do serviço
        imagePullPolicy: Always  # Garante que a imagem seja sempre baixada
        volumeMounts:
        - name: host-volume  # Nome do volume
          mountPath: /app/data  # Caminho onde o volume será montado no container
      volumes:
      - name: host-volume  # Nome do volume
        hostPath:
          path: /root/steam/data  # Caminho absoluto no host
          type: Directory  # Tipo do volume (pode ser Directory, DirectoryOrCreate, etc.)
